(function(a){a.fn.ilabTabs=function(b){var c=a.extend({},b),d=null;return this.each(function(){for(var b=a(this),e=b,f=b.parent();;){if(f.hasClass('ilabm-container')){e=f;break}if(f=f.parent(),!f)break}var g=b.find('.ilabm-tabs-select-label'),h=b.find('.ilabm-tabs-select'),i=b.find('.ilabm-editor-tab'),j=0,k=null,l=0,m=0,n=0,o=0,p=function(a,b){var c=d||(d=document.createElement('canvas')),e=c.getContext('2d');e.font=b;var f=e.measureText(a);return f.width};i.each(function(){var b=a(this);null==k&&(k=b.css('font'),l=parseInt(b.css('margin-left')),m=parseInt(b.css('margin-right')),n=parseInt(b.css('padding-left')),o=parseInt(b.css('padding-right'))),tabWidth=p(b.text(),k)+l+m+n+o+15,j+=tabWidth}),g&&c.hasOwnProperty('label')&&g.text(c.label),i.removeClass('active-tab'),i.on('click',function(b){b.preventDefault(),i.removeClass('active-tab');var d=a(this);return d.addClass('active-tab'),h&&h.val(d.data('value')),c.currentValue=d.data('value'),c.hasOwnProperty('tabSelected')&&c.tabSelected(d),!1}),h&&h.on('change',function(){i.removeClass('active-tab'),i.each(function(){var b=a(this);b.data('value')==h.val()&&b.addClass('active-tab')});var b=h.find(':selected');c.hasOwnProperty('tabSelected')&&c.tabSelected(b)}),c.hasOwnProperty('currentValue')&&(h&&h.val(c.currentValue),i.each(function(){var b=a(this);b.data('value')==c.currentValue&&b.addClass('active-tab')}));var q=function(){j>e.width()-350?(g.show(),h.show(),i.hide()):(g.hide(),h.hide(),i.show())};a(window).on('resize',q),q()})}})(jQuery);var ILabModal=function(){var a=!1;return{cancel:function(){jQuery('.ilabm-backdrop').remove()},makeDirty:function(){a=!0},isDirty:function(){return a},makeClean:function(){a=!1},loadURL:function(b,c,d){return a&&!confirm('You\'ve made changes, continuing will lose them.\n\nContinue?')?!1:void(a=!1,jQuery.get(b,function(a){c?d(a):jQuery('body').append(a)}))}}}();jQuery(document).ready(function(a){a(document).on('click','a.ilab-thickbox',function(b){b.preventDefault();var c=a(this),d=c.hasClass('ilab-thickbox-partial');return ILabModal.loadURL(c.attr('href'),d,null),!1})});